<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Drawing fractals with IFSflorek • IFSflorek</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">IFSflorek</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/drawing_fractals_with_IFSflorek.html">Drawing fractals with IFSflorek</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Drawing fractals with IFSflorek</h1>
                        <h4 class="author">Magda Lipiec, Ania Macioszek</h4>
            
            <h4 class="date">2018-01-07</h4>
          </div>

    
    
<div class="contents">
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p><code>IFSflorek</code> package allows you to plot many different fractals in many different ways. It is published under the Beerware license, which means you can do whatever you want with the package and it’s code, and if we should ever meet you owe us a beer. Ok, to be honest, you owe us a beer provided you think our package is worth it.</p>
<p>The package uses Iterated Function System (IFS for short) to define fractals and deterministic algorithm do draw them. The idea is as follows: a fractal is defined by a list of <span class="math inline">\(n\)</span> contraction mappings (we will simply call them functions in this vignette). To draw it, we choose a starting point and in the first iteration we apply all the functions to it, resulting in a set of <span class="math inline">\(n\)</span> points. In the second iteration, we apply all the functions to all the points from the previous iteration, and so on. When we reach the desired depth - that is, the desired number of iterations - we stop and plot all the points from all the iterations.</p>
</div>
<div id="simple-usage" class="section level1">
<h1 class="hasAnchor">
<a href="#simple-usage" class="anchor"></a>Simple usage</h1>
<p>Let’s start with some simple example - we will draw so called Heighway Dragon. It’s a simple fractal, because you need only two functions to create it. The functions are as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">scale_and_rotate1 &lt;-<span class="st"> </span><span class="cf">function</span>(x) {
  <span class="kw">c</span>(<span class="fl">0.5</span><span class="op">*</span>x[<span class="dv">1</span>] <span class="op">-</span><span class="st"> </span><span class="fl">0.5</span><span class="op">*</span>x[<span class="dv">2</span>], <span class="fl">0.5</span><span class="op">*</span>x[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span><span class="fl">0.5</span><span class="op">*</span>x[<span class="dv">2</span>])
}
scale_and_rotate2 &lt;-<span class="st"> </span><span class="cf">function</span>(x) {
  <span class="kw">c</span>(<span class="op">-</span><span class="fl">0.5</span><span class="op">*</span>x[<span class="dv">1</span>] <span class="op">-</span><span class="st"> </span><span class="fl">0.5</span><span class="op">*</span>x[<span class="dv">2</span>] <span class="op">+</span><span class="st"> </span><span class="dv">1</span>, <span class="fl">0.5</span><span class="op">*</span>x[<span class="dv">1</span>] <span class="op">-</span><span class="st"> </span><span class="fl">0.5</span><span class="op">*</span>x[<span class="dv">2</span>])
}</code></pre></div>
<p>Note that the functions should take a vector of two elements as an argument and return a vector of two elements.</p>
<p>Now we create an object of class <code>IFS</code> with these functions using <code>createIFS</code> function from our <code>IFSflorek</code> package. Firstly, of course, we need to load the package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(IFSflorek)
heighway_dragon &lt;-<span class="st"> </span><span class="kw"><a href="../reference/createIFS.html">createIFS</a></span>(scale_and_rotate1, scale_and_rotate2)</code></pre></div>
<p>Next, we can plot it simply by using plot function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(heighway_dragon)</code></pre></div>
<p><img src="drawing_fractals_with_IFSflorek_files/figure-html/plot_heighway_dragon-1.png" width="672"></p>
<p>If we want to see more iterations, and hence more points, we need to increase <code>depth</code> argument (the default value is 8):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(heighway_dragon, <span class="dt">depth =</span> <span class="dv">13</span>)</code></pre></div>
<p><img src="drawing_fractals_with_IFSflorek_files/figure-html/plot_heighway_dragon_change_depth-1.png" width="672"></p>
<p>By default the points are coloured according to the iteration they were created in using colours created by <code>rainbow</code> function. You can change the palette of colours with argument colour_palette. It can be a function that takes as an argument a number <code>n</code> and returns a list of <code>n</code> colours (for example, <code>heat.colors</code> function or the default <code>rainbow</code> function; see <code>?rainbow</code> for more palettes available in R); it can be simply a list of <code>n</code> colours or one single colour. Note that iterations are coloured in reversed order, that is, if we draw two iterations with <code>colour_palette = c("red", "blue")</code> the points created in the second iteration will be red. You can change that behaviour by setting <code>reverse = FALSE</code>. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(heighway_dragon, <span class="dt">depth =</span> <span class="dv">10</span>, <span class="dt">colour_palette =</span> <span class="st">"black"</span>)</code></pre></div>
<p><img src="drawing_fractals_with_IFSflorek_files/figure-html/plot_heighway_dragon_change_colours-1.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(heighway_dragon, <span class="dt">depth =</span> <span class="dv">10</span>, <span class="dt">colour_palette =</span> heat.colors)</code></pre></div>
<p><img src="drawing_fractals_with_IFSflorek_files/figure-html/plot_heighway_dragon_change_colours-2.png" width="672"></p>
</div>
<div id="examples" class="section level1">
<h1 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h1>
<p>There are some examples included in our package that are ready to use. You can list them with function <code>data(package = "IFSflorek")</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="dt">package =</span> <span class="st">"IFSflorek"</span>)</code></pre></div>
<p>The examples are <code>IFS</code> objects representing some well-known fractals. You can draw them using <code>plot</code> function or read more about them in the documentation, for example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><a href="../reference/sierpinski_gasket.html">?sierpinski_gasket</a></code></pre></div>
<p>You can also use function <code>examplesIFS()</code> to generate ready pictures. You just need to provide the name of the fractal and optionally the desired depth of plotting. All the fractals that are available as the additional data are also available through <code>examplesIFS()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/exampleIFS.html">exampleIFS</a></span>(<span class="st">"sierpinski"</span>, <span class="dv">7</span>)</code></pre></div>
<p><img src="drawing_fractals_with_IFSflorek_files/figure-html/exampleIFS-1.png" width="672"></p>
</div>
<div id="create-fractals-from-coefficients" class="section level1">
<h1 class="hasAnchor">
<a href="#create-fractals-from-coefficients" class="anchor"></a>Create fractals from coefficients</h1>
<p>Many fractals are created using functions of the following form:</p>
<p><span class="math inline">\(f(x, y) = (ax + by + e, cx + dy + f)\)</span></p>
<p>And so quite often the fractals are defined by simply providing the coefficients <span class="math inline">\((a, b, c, d, e, f)\)</span> of the functions. To simplify implementation of such fractals, we’ve created function <code>createIFS_from_coefficients</code>. It takes a matrix of coefficients and returns an <code>IFS</code> object with functions defined using these coefficients. The matrix should have six columns; each row represents coefficients for different function. Below we create Barnsley Fern using this method. Firstly we create matrix of coefficients:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">matrix_of_coefficients &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(
  <span class="fl">0.00</span>,  <span class="fl">0.00</span>,  <span class="fl">0.00</span>, <span class="fl">0.16</span>, <span class="dv">0</span>, <span class="fl">0.00</span>,
  <span class="fl">0.85</span>,  <span class="fl">0.04</span>, <span class="op">-</span><span class="fl">0.04</span>, <span class="fl">0.85</span>, <span class="dv">0</span>, <span class="fl">1.60</span>,
  <span class="fl">0.20</span>, <span class="op">-</span><span class="fl">0.26</span>,  <span class="fl">0.23</span>, <span class="fl">0.22</span>, <span class="dv">0</span>, <span class="fl">1.60</span>,
  <span class="op">-</span><span class="fl">0.15</span>,  <span class="fl">0.28</span>,  <span class="fl">0.26</span>, <span class="fl">0.24</span>, <span class="dv">0</span>, <span class="fl">0.44</span>
), <span class="dt">ncol =</span> <span class="dv">6</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)
<span class="kw">colnames</span>(matrix_of_coefficients) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"e"</span>, <span class="st">"f"</span>)

matrix_of_coefficients</code></pre></div>
<pre><code>##          a     b     c    d e    f
## [1,]  0.00  0.00  0.00 0.16 0 0.00
## [2,]  0.85  0.04 -0.04 0.85 0 1.60
## [3,]  0.20 -0.26  0.23 0.22 0 1.60
## [4,] -0.15  0.28  0.26 0.24 0 0.44</code></pre>
<p>Then, we simply provide the matrix to the function <code>createIFS_from_coefficients</code>. Et voila!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">barnsley_fern &lt;-<span class="st"> </span><span class="kw"><a href="../reference/createIFS_from_coefficients.html">createIFS_from_coefficients</a></span>(matrix_of_coefficients)

<span class="kw">plot</span>(barnsley_fern, <span class="dt">colour_palette =</span> <span class="kw">c</span>(<span class="st">"green"</span>, <span class="st">"red"</span>))</code></pre></div>
<p><img src="drawing_fractals_with_IFSflorek_files/figure-html/unnamed-chunk-1-1.png" width="672"></p>
</div>
<div id="random-fractals" class="section level1">
<h1 class="hasAnchor">
<a href="#random-fractals" class="anchor"></a>Random fractals</h1>
<p>In <code>IFSflorek</code> one can generate infinite number of random fractals, using <code><a href="../reference/randomIFS.html">randomIFS()</a></code> function. User simply tells it how many functions to generate, and then the function chooses random coefficients for each of them, so that all of them will be contractive mappings. The default number of functions is 4. Below we illustrate some examples that we find particularly pleasant. In the latter ones we play with the colour palette using RColorBrewer library to get some nice results.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">16</span>)
random_fractal &lt;-<span class="st"> </span><span class="kw"><a href="../reference/randomIFS.html">randomIFS</a></span>()
<span class="kw">plot</span>(random_fractal)</code></pre></div>
<p><img src="drawing_fractals_with_IFSflorek_files/figure-html/random_fractals-1.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">84</span>)
random_fractal &lt;-<span class="st"> </span><span class="kw"><a href="../reference/randomIFS.html">randomIFS</a></span>()
<span class="kw">plot</span>(random_fractal, <span class="dt">colour_palette =</span> topo.colors)</code></pre></div>
<p><img src="drawing_fractals_with_IFSflorek_files/figure-html/random_fractals-2.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">25</span>)
random_fractal &lt;-<span class="st"> </span><span class="kw"><a href="../reference/randomIFS.html">randomIFS</a></span>(<span class="dv">3</span>)
<span class="kw">plot</span>(random_fractal, <span class="dt">depth =</span> <span class="dv">9</span>, <span class="dt">colour_palette =</span> cm.colors)</code></pre></div>
<p><img src="drawing_fractals_with_IFSflorek_files/figure-html/random_fractals-3.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">48</span>)
random_fractal &lt;-<span class="st"> </span><span class="kw"><a href="../reference/randomIFS.html">randomIFS</a></span>()
<span class="kw">plot</span>(random_fractal, <span class="dt">colour_palette =</span> heat.colors, <span class="dt">reverse =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><img src="drawing_fractals_with_IFSflorek_files/figure-html/random_fractals-4.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">132</span>)
random_fractal &lt;-<span class="st"> </span><span class="kw"><a href="../reference/randomIFS.html">randomIFS</a></span>()
<span class="kw">plot</span>(random_fractal, <span class="dt">colour_palette =</span> <span class="st">"lightblue"</span>)</code></pre></div>
<p><img src="drawing_fractals_with_IFSflorek_files/figure-html/random_fractals-5.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">133</span>)
random_fractal &lt;-<span class="st"> </span><span class="kw"><a href="../reference/randomIFS.html">randomIFS</a></span>()
<span class="kw">plot</span>(random_fractal, <span class="dt">reverse =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><img src="drawing_fractals_with_IFSflorek_files/figure-html/random_fractals-6.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span> (<span class="kw">require</span>(RColorBrewer, <span class="dt">quietly =</span> <span class="ot">TRUE</span>)) {
  greens &lt;-<span class="st"> </span><span class="cf">function</span>(n) {
    <span class="kw"><a href="http://www.rdocumentation.org/packages/RColorBrewer/topics/ColorBrewer">brewer.pal</a></span>(n, <span class="st">"Greens"</span>)
  }
  
  <span class="kw">set.seed</span>(<span class="dv">142</span>)
  random_fractal &lt;-<span class="st"> </span><span class="kw"><a href="../reference/randomIFS.html">randomIFS</a></span>()
  <span class="kw">print</span>(<span class="kw">plot</span>(random_fractal, <span class="dt">colour_palette =</span> greens))
  
  
  tree_colours &lt;-<span class="st"> </span><span class="cf">function</span>(n) {
    colours &lt;-<span class="st"> </span><span class="kw">colorRampPalette</span>(<span class="kw">c</span>(<span class="st">"brown"</span>, <span class="st">"brown2"</span>, <span class="st">"green"</span>))
    <span class="kw">colours</span>(n)
  }
  
  <span class="kw">set.seed</span>(<span class="dv">37</span>)
  random_fractal &lt;-<span class="st"> </span><span class="kw"><a href="../reference/randomIFS.html">randomIFS</a></span>()
  <span class="kw">print</span>(<span class="kw">plot</span>(random_fractal, <span class="dt">depth =</span> <span class="dv">9</span>, <span class="dt">colour_palette =</span> tree_colours))
}</code></pre></div>
<p><img src="drawing_fractals_with_IFSflorek_files/figure-html/random_fractals-7.png" width="672"><img src="drawing_fractals_with_IFSflorek_files/figure-html/random_fractals-8.png" width="672"></p>
<p>If you need any more details, please refer to the documentation.</p>
<p>Have fun drawing fractals!</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#simple-usage">Simple usage</a></li>
      <li><a href="#examples">Examples</a></li>
      <li><a href="#create-fractals-from-coefficients">Create fractals from coefficients</a></li>
      <li><a href="#random-fractals">Random fractals</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Magda Lipiec, Ania Macioszek.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
